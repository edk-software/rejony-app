{% raw %}
	<script>
	var pnChartData = {% endraw %}{{ data | raw }}{% raw %};
		
    var barChartCanvas = $("#participants-on-route").get(0).getContext("2d");
    var barChart = new Chart(barChartCanvas);
    var barChartData = pnChartData;
    var barChartOptions = {
      segmentShowStroke : true,
	 animateRotate : true,
      legendTemplate: "<ul class=\"line-legend\"><% for (var i=0; i<datasets.length; i++){%><li><span style=\"background-color:<%=datasets[i].fillColor%>\"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>",
      //Boolean - whether to make the chart responsive
      responsive: true,
      maintainAspectRatio: true
    };

    barChartOptions.datasetFill = false;
    barChart.Doughnut(barChartData, barChartOptions);
	</script>
{% endraw %}
